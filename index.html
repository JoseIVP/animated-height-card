<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/all.css">
</head>
<body>
    <style>
        :root{
            --color-primary: #4f4f4f;
            --bg-light: white;
            --bg-primary: #2f80ed;
            --bg-primary-light: #85b5f4;
        }

        *{
            margin: 0;
            padding: 0;
            border: none;
            font-family: Arial, Helvetica, sans-serif;
        }

        h2{
            font-size: 2rem;
            color: var(--color-primary);
        }

        button{
            outline: none;
            transition: box-shadow .15s;
        }

        details{
            background-color: var(--bg-light);
            overflow: hidden;
            position: relative;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);
            border: 1px solid #bdbdbd;
        }

        summary{
            list-style: none;
            outline: none;
            padding: 1rem;
            background-color: var(--bg-light);
            box-sizing: border-box;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: .6rem;
        }

        details[open] > summary {
            border-bottom: 1px solid #c7c7c7;
        }

        /* For chrome */
        summary::-webkit-details-marker{
            display: none;
        }

        .toggle {
            position: absolute;
            bottom: calc((min(5rem, 100%) - 3rem) / 2);
            right: 1rem;
            width: 3rem;
            height: 3rem;
            border-radius: 3rem;
            font-size: 2.5rem;
            transition: transform 150ms,
                bottom 150ms;
            color: #828282;
            background-color: #f2f2f2;
        }

        .toggle:focus{
            box-shadow: 0 0 0 .2rem #c5c5c5;
        }

        .toggle i{
            display: flex;
            align-items: center;
            justify-content: center;
        }

        details[open] .toggle {
            transform: rotate(180deg);
            bottom: 1rem;
        }

        section {
            margin-bottom: 4rem;
            text-align: justify;
            padding: 1rem;
            font-size: 1.2rem;
            min-height: 200px;
            box-sizing: border-box;
            color: var(--color-primary);
        }

        .btn{
            background-color: var(--bg-primary);
            color: white;
            font-size: 1rem;
            padding: 0.5em;
            border-radius: 0.3em;
        }

        .btn:focus{
            box-shadow: 0 0 0 .25em var(--bg-primary-light);
        }

        menu {
            margin-right: 4rem;
            transition: margin-right 150ms;
            display: flex;
            gap: .8rem;
            flex-wrap: wrap;
        }

        details[open] menu{
            margin-right: 0;
        }

        #container {
            width: 96vw;
            max-width: 800px;
            margin: auto;
            margin-top: 1rem;
        }
    </style>

    <details id="container" >
        <summary>
            <h2>Card header</h2> 
            <menu>
                <button type="button" class="btn">Dummy</button>
                <button type="button" class="btn">Bigger dummy</button>
            </menu>
            <button type="button" class="toggle">
                <i class="fas fa-angle-down"></i>
            </button>
        </summary>
        <section>
            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet, vitae perspiciatis non magni unde repellendus accusamus
            sequi voluptatibus repudiandae suscipit mollitia quaerat dolorum blanditiis rerum quia voluptatum, explicabo aperiam
            repellat.
            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet, vitae perspiciatis non magni unde repellendus accusamus
            sequi voluptatibus repudiandae suscipit mollitia quaerat dolorum blanditiis rerum quia voluptatum, explicabo aperiam
            repellat.
        </section>
    </details>

    <script>
        function heightTransition(element, from, to, duration){
            const keyframes = [
                {height: from + "px"},
                {height: to + "px"}
            ];
            const options = { duration }
            element.animate(keyframes, options);
        }

        const container = document.getElementById("container");
        container.addEventListener("click", e => e.preventDefault());
        const toggleBtn = document.querySelector(".toggle");
        toggleBtn.addEventListener("click", (event) => {
            const h1 = parseInt(getComputedStyle(container).height);
            container.open= !container.open;
            const h2 = parseInt(getComputedStyle(container).height);
            heightTransition(container, h1, h2, 150);
        });
    </script>
</body>
</html>